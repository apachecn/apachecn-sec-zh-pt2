Chapter 10

# 电话攻击媒介

<address>

理查德·艾克罗伊德，随机风暴有限公司高级安全工程师

</address>

电话社交工程攻击可用于收集目标公司的信息，甚至诱骗用户执行导致其安全性完全受损的操作。它是一种流行的攻击媒介，因为被识别和捕获的风险很小。本章提供了一种实用的方法来规划将实现评估目标的呼叫，但更重要的是，确定目标策略和程序中的实际漏洞。

### 关键词

电话攻击；来电显示欺骗；电话系统黑客

## 介绍

鉴于互联网的爆炸性发展，人们认为电话诈骗会销声匿迹是情有可原的，但事实并非如此。新闻媒体上仍然经常有这样的案例，尽管可能没有电子邮件诈骗那么多。

事实是，从一开始，我们就收到了“互联网是一个邪恶的地方”的信息，这无疑导致大多数人对互联网上的人更加警惕。这可以在一定程度上解释为什么电话攻击在某些情况下仍然流行。尽管它肯定没有达到预期的效果。

另一个原因可能是精心策划的电话攻击有多有效。如果借口是可靠的，电话另一端的人听起来有点像人类，一些人会相信他们的话，不管他们是谁。

有些情况下，人们仍然会被这些电话所迷惑，这并不奇怪。例如，银行以经常给客户打一些极其烦人的电话而闻名。他们是这样走的:

| 银行 | “你好，是阿克罗伊德先生吗？—是 XYZ 银行诈骗部” |
| 我 | “说话” |
| 银行 | “Ackroyd 先生，我们发现您的帐户出现了一些异常活动，我们想验证一下它是否正确” |
| 我 | “好的” |
| 银行 | 你能告诉我你地址的第一行，你的邮政编码和你的出生日期吗 |
| 我 | “嗯……不” |
| 银行 | “但我们需要细节，否则我们不能给你任何信息……” |
| 我 | “那么再见” |

当真正的欺诈部门从一个被隐瞒的号码打电话来询问敏感信息时，确保人们不泄露敏感数据还有什么希望？还记得那些来自银行的电子邮件吗"*我们永远不会通过电子邮件询问敏感信息。*“这里有什么不同？为什么通过电话可以接受，而通过电子邮件不行？这种攻击类型的流行是冒这个险的充分理由吗？这是极不可能的，每年成千上万被这些骗局打击的人无疑会同意。

尽管欺诈部门被反复告知同样的事情，但他们要求这些信息使情况变得更糟，并向骗子开放他们的客户。他们还没改呢！

所有这些教育活动和新闻媒体上的文章突然变得一文不值，因为那些应该更了解情况的人却不知道。这是一种可悲的事态。

事实是偏执狂需要被教导。应该鼓励人们询问某人某种形式的身份证明，如果他们不能证明自己，就挂断电话。拒绝和他们说话没关系。如果真的是重要的事情，我们会进一步沟通。您可以随时找到已知的合法联系方式，并给他们回电。

电话攻击盛行的另一个原因是打电话给某人有很多潜在的场景和原因。银行的例子只是一个可以不费吹灰之力应用于社会工程项目的想法。

没有进一步的延迟，这里有一个电话攻击的世界，以及这些可以如何在交战中使用。

## 真实世界的例子

### 凯文米尼克

可能是有史以来最著名的社会工程师，正如在第一章已经提到的。凯文·米特尼克的职业生涯包括一些最疯狂的电话诈骗。20 世纪 90 年代，他是“*世界头号黑客*。有趣的是，Mitnick 声称编写了第一个网络钓鱼程序。这是一个收集用户凭证的假登录模拟器！—与[第 9 章](09.html)中的凭证获取部分形成了有趣的对比。

就电话窃听而言，米特尼克能够获得什么样的信息？员工号、地址、信用卡号、电话号码、密码——全部 9 码。如果你有兴趣阅读更多关于米特尼克的事迹，可以看看“*欺骗的艺术*”*ISBN-10:076454280 x*。这是一个真正令人着迷的读物，即使对于对信息安全领域不感兴趣的人来说也是如此。当谈到电话攻击时，他的一些骗局突出了一个有趣的点。小细节可以移山。给多个人打多个电话，收集微小的信息片段正是这个游戏的目的，假设有时间的话！了解一家企业的内部行话，或者在这里或那里随便提一个名字，都会给任何攻击增加可信度。这些细节的价值大于其各部分的总和。

### 卡注销骗局

这是一个目前在英国流行的电话骗局。它依赖于目标在没有他们许可的情况下，资金可能被提取时的恐慌。

基本上，这个骗局从一个零售店的电话开始，在一个真实世界的例子中，它是伦敦的苹果商店。骗子假扮成苹果商店的工作人员，通知受害者有人正在商店里，试图使用看起来是她的一张卡来花一大笔钱。受害者检查她的卡是否都存在，并且发现它们都存在。苹果商店的员工告诉受害者，他们的卡肯定被克隆了，他们应该打电话给他们的银行取消这些卡。此时，员工说卡克隆者正跑出商店，放下电话，但没有挂断。这样即使受害者挂断电话，也能保持通话。

此时，受害者试图给他们的银行打电话，但是在慌乱中，他们没有意识到没有拨号音。攻击者一直保持在线。当受害者问，“嗨，是巴克莱银行吗？“攻击者回答是，并询问他们如何提供帮助。

受害者解释了欺诈行为，乐于助人的银行员工告诉她，根据新的安全方案，她可以一次性取消分配给她的所有卡，甚至不属于该银行的卡。此时，攻击者正在利用受害者的恐惧。受害者迫不及待地想解决这个问题，所以同意取消所有的卡。接下来，她被要求向电话中输入她的个人识别码，所有这些都被攻击者记录下来。

受害者被要求确认她的完整地址，骗子告诉她，当天将派出一名安全的快递员来收集注销的卡，并确保它们得到妥善处理。如果受害者表现出任何反抗，或者声称她将亲自把它们切碎，攻击者就会说，在旧卡被收回之前，不能发放新卡。这是为了确保他们在被追回后不会受到进一步的诈骗，如身份诈骗。

攻击者给受害者一个密码，并被告知当他们到达时向快递员索要。如果他们不能提供正确的号码，他们就要报警。显然，“快递员”是骗子团队的一员，向受害者出示正确的号码。受害者将一个装满有效信用卡的信封交给攻击者，攻击者有这些信用卡的密码。

虽然这个骗局可能骗不了一些人，但它确实有效。这个骗局让一些罪犯每天获利超过 5 万英镑！这些是经验丰富的骗子团队，他们日复一日地做这种事。他们在电话里听起来很自然，完全可信。对个人的恐惧祈祷可以引发在正常情况下可能看不到的反应。对于社会工程来说，这是一种有效的技术，正如第三章所述。

当涉及到操纵时，金钱总是一个很好的动机。当情况归结为他们所有的账户都被掏空了他们一生的积蓄时，人们通常没有能力应用理性。

关于这个骗局的更多信息可以在英国广播公司新闻网站和 http://www.bbc.co.uk/news/business-22513041 T2 网站找到。

## 环境声音

在给选定的目标打电话之前，应该仔细考虑要使用的借口。他们通常会在什么样的环境下打电话？旅行中的销售人员可能会从行驶中的汽车上打电话，或者从繁忙的呼叫中心的服务台接线员那里打电话。通常有必要模仿这些背景噪音，以确保任何诡计都是可信的。如何实现这一点？嗯，只要有可能，为什么不选择真实的东西呢？如果要让电话听起来像是从车里打出来的，那就从车里打，只要确保安全合法就行了！

哪里不可能得到真正的东西，哪里就需要有创造性的方法。这通常意味着招募你周围的人来参与这个场景。也可以指下载音轨，在后台播放。在这方面要小心，如果声音文件在通话中途结束，要做好准备。例如，“*是啊，这里真的很忙，所以我搬到了一个安静的房间*”，希望这行得通。最好确保在通话前彻底检查过声音道具。

要播放一些环境噪音，为什么不看看 http://www.freesound.org 的。这里上传的所有声音都是在知识共享许可下提供的。有很多不同的背景音乐适合任何场景。周围的办公室声音，拱廊，汽车声，作品。

不过，请记住，在合约中使用这些文件之前，要从头到尾检查一遍。任何错误都可能代价高昂且令人尴尬！

## 来电显示的问题

来电显示是在屏幕上显示来电者电话号码的功能。在某些系统中，如果数据库中添加了联系人，它还可以显示姓名。

当然，这可能是对恶意调用者的一种非常有用的防御，但真的是这样吗？系统中是否有任何弱点会被社会工程师滥用？使用来电显示作为身份验证措施是个好主意吗？

普遍的看法是，单独使用来电显示作为认证方法根本不是一个好主意。以下是一些原因。

## 来电显示欺骗

在世界的某些地方，可以伪造短信和电话的来源。这些服务在英国并不常见，但在美国肯定是有的。像“*欺骗卡*”这样的服务以很小的成本提供了这种功能。

英国也出现过类似的服务，比如“ *Spookcall。*“然而，该网站在总共上线 5 天后就被关闭了。OFCOM 对所提供的服务持悲观态度，这是有充分理由的。这种性质的事情总是值得谨慎处理的。仅仅因为一个服务或解决方案不是公开可用的，并不意味着它不能被恶意的个人通过替代方式获得。

## 电话系统黑客

我们生活在这样一个时代，大规模的跨国组织似乎经常受到威胁。组织可以分为两类:知道自己被黑客攻击的组织和不知道的组织。好吧，这可能有点戏剧性，但这是一个有趣的原理。如果 RSA 或索尼能被黑，组织真的相信他们不能吗？电话系统黑客仍然司空见惯，即使在今天。这些黑客攻击中的绝大多数都被用于向黑客拥有的海外号码收取额外费用。这通常会在相对较短的时间内造成数万英镑的损失。如果是这种情况，那么肯定也有可能使用这些黑客打电话给内部号码的人。这可能看起来很牵强，但它确实发生了。

## 联系人数据库是最新的吗？

如果一个电话声称是来自某个员工，如何核实呢？查看来电显示，然后将号码与内部联系人进行比对。更好的是，电话系统会自动完成这项工作，员工的名字会显示在号码旁边。当一个号码无法匹配的来电时会发生什么？如果这个人是新员工呢？如果员工声称他们丢失、损坏或被盗了手机，该怎么办？这些政策和程序能经受住这种情况吗？给新员工发一部手机要多久？如果这种情况持续数周被认为是司空见惯的，那么为什么当一个陌生来电者联系时，电话处理人员应该注意到任何可疑的事情呢？

任何联系人数据库都有可能持续落后于实际情况，每个呼叫处理人员都知道这一点。

## 转移来电显示

值得注意的一点是，并不是所有的电话系统在转接电话时都会通过来电显示。在一些较旧的系统上，无论是谁转接了呼叫，都会显示在呼叫者 ID 输出上。出于这个原因，总是值得尝试建立可以将呼叫传递到目标的总机或接待处的号码。不幸的是，除非您能够在侦察阶段获得有关电话系统的信息并研究其文档，否则不可能知道实际上显示了什么。让内部用户使用他们的 ID 传递呼叫的目的是利用身份验证链。这是用户认为“Jane 通过那个电话告诉我是 bob，所以肯定是 bob。”您已经假设另一个人已经对调用者进行了身份验证，但更有可能的情况是他们还没有！

## 如何判断你的来电显示是否出现

那么判断目标是否有来电显示的场景呢？或者如果电话被转到另一个雇员那里，会显示什么号码？打进来并被转接给某人后，请尝试以下方式:

| 我: | "嗨，我是人力资源部的鲍勃，你能帮我一个小忙吗？" |
| 他们: | “当然，我能为你做什么？” |
| 我: | “由于骚扰电话，他们正在更换我的商务手机号码，你能告诉我你的屏幕上出现了什么吗？我想知道它是否已经被调换了” |
| 他们: | 当然，电话号码是 555-444-333-222 |
| 我: | “太好了，谢谢！” |

这是一个从目标中提取看起来完全不敏感的信息的简单例子。就受害者而言，他们读回来的只是你的号码，都是非常无害的，但它可以识别来电显示是否正常工作，或者当电话在内部转移时。

## 总结一下

来电显示绝对不是可以完全依赖的东西。至少需要在系统中内置另一个身份验证因素。不过，给你一个警告，不要选择人们可能已经免费赠送多年的东西。那些信息是无法收回的。为每个员工挑选一些独特的东西，这些东西足够私密而不是众所周知，但又足够开放，以便呼叫处理人员可以使用。

## 基于电子邮件攻击

在电子邮件攻击过程中收集了大量有用的信息，其中大部分可以在电话攻击阶段应用。

首先，毫无疑问已经获得了几个内部分机号码，可以在办公室之外使用。分机号码通常由外部电话号码的最后三或四位数组成。这是假设签名中没有完整的电话号码，这种情况几乎总是会发生。

谁不在办公室，呆了多长时间也是已知的。这些信息本身就是一份无价的情报，经常被用来获取巨大的利益。

不在办公室的回复可能包含在同一团队中工作的其他人的详细联系信息，他们不在时可以联系到这些人。这些人可能会不假思索地提供帮助。他们不太可能想和正在度假的同事确认任何细节。

下面是一个可以利用这种智能的示例调用。该示例将建立在第 9 章中[的“不在办公室时的响应”一节中提到的场景之上。](09.html)

## 我不在的时候，请联系莎拉

当不在办公室的回复返回另一个联系人和他们的电话号码时，这对任何社会工程师都是有用的。有可能这个人甚至没有被告知他们将是缺勤员工的任何电话的接收者。下一步最好是查看目标的脸书档案，看看是否能找到他们去了哪里的信息，这类内部信息将有助于建立了解缺席员工的信心。

这样的电话会有什么结果呢？

| 我: | “你好，Sarah，我是 zxycorp 的 Bill Robson，上周我和 Rob 讨论了我们正在进行的审计。他告诉我，他不在的时候，可以找你谈话？” |
| 莎拉: | “嗨，比尔，是的，看来我很荣幸在接下来的几周内处理罗柏的工作！” |
| 我: | “我想有些人可以乘飞机去加勒比海，而我们其他人则留在这里拼命工作！总之，罗柏说你可以帮我拿到他电脑里的一些文件。他不想通过电子邮件发送敏感的审计数据，因为这违反了公司政策” |
| 莎拉: | “是啊，这些天他们不让我们送任何东西，真是疯了” |
| 我: | “跟我说说吧，我得走遍这个地方来收集这些信息。就像过去的日子又回来了。无论如何，我可以在这个星期的任何时候过来收集信息。Rob 说你应该可以登录他的电脑，我会带一个加密的 u 盘，这样我们就可以安全地获取数据，你这周有空吗？” |
| 莎拉: | "星期四下午 2 点怎么样？" |
| 我: | “太好了，我去接待处找你，很高兴和你通话” |

到达时，顾问需要做好充分准备。首先，看起来像个角色。这意味着提前出现，并遵守公司的着装规范。知道正在寻找什么文件，即使它们不存在，这增加了场景的可信度。运气好的话，工程师可以独自去搜索文件，这样他们就可以大展身手了。至少，在 Sarah 登录时，可能有机会从她肩膀上冲浪。最多，可能有机会留下一个持久的后门，为进一步的攻击。当完成后，总是试图离开，没有人陪同，因为进一步的目标可能会实现。机会是，顾问在这一点上也将有一个访问者的徽章，所以可能会完全不受挑战。

## 你要给谁打电话？

选择给谁打电话本身就是一项技能，尤其是当你需要打几个电话才能最终和他们通话的时候。

任何公布在公司网站上的号码都可能是一个通用号码，最终会出现在前台、总机甚至帮助台。这些人真的是我们想与之交谈的人吗？这里有利有弊。从积极的一面来看，这些部门中的每一个都雇佣了一些人，他们在电话那头的唯一原因就是帮助别人。硬币的另一面是，他们很可能精通以统一和照本宣科的方式处理电话，不太可能偏离标准。因此，它归结为:必要的信息可以在其他地方收集吗？

在许多情况下，更有益的做法是做进一步的研究，找到不太擅长处理来电的人，并尝试转接给他们。更有可能的是，他们会想让打电话的人尽快离开他们，因此更有可能说出一些他们不应该说的话。最重要的是，他们不太可能受过教育，知道什么应该、什么不应该在电话里说。需要注意的另一点是，呼叫处理人员可能已经接受过培训，并获得了认证外部呼叫的资源，而其他员工则没有。这里试图识别的漏洞是缺乏对非调用处理程序的培训。解决办法很简单，让所有非呼叫处理人员将外部呼叫转回总机或服务台。

我们曾经开发了一个类似的场景，尽管有大量的运气帮助，这是我走上这条道路的原因。

目标是实际进入一个相当大的区域办事处。

所需要的是区域办事处负责批准通行证和赞助访问的人员的姓名和详细联系方式。为了避免引起恐慌，避免给地区办公室打电话。因此，合乎逻辑的做法是联系总部总机。总机的号码是在早先的侦察演习中获得的。首选是冒充总部的员工；第一个电话是这样的。

| 他们: | "你好，xyzcorp，我是莎拉，有什么可以帮忙的吗？" |
| 美国: | "嗨，我是人力资源部的鲍勃，你能帮我问几个问题吗？" |
| 他们: | "当然可以，鲍勃，我能为你做什么？" |
| 美国: | “我正和几个同事去利兹办事处进行一次培训，但我忘了提前发电子邮件通知保安我要来，我知道他们对这件事有多敏感。你能告诉我需要给谁打电话来安排访问吗？” |
| 他们: | 对不起，鲍勃，我手头没有这方面的资料 |
| 美国: | “哦……我想我应该准备得更充分些！你能给我前台的电话号码吗？” |
| 他们: | “没问题，让我提一下……是 555.666.111” |
| 美国: | "谢谢你的时间，莎拉，你知道今天谁会在利兹接待吗？" |
| 他们: | “联系单上写着苏” |
| 美国: | “再次感谢莎拉，再见” |

这是一个真实的电话，尽管经过了大量的编辑和处理以保护无辜者。是一个同事在他们的车里做的。在这方面有一个很好的观点，当一条信息被拒绝时，总要做好准备。可能只是工作人员不知道答案，在这种情况下，你的备份将是"*你能找出谁知道吗？*“此时，他们可能会透露另一个名字和联系电话。那么随后的呼叫可以包括说出莎拉的名字—“*你好，我刚刚和莎拉谈过，她说你可以……*“通常的假设是 Sarah 已经验证了呼叫者。同样，这种技术滥用了认证链。

下一个调用是对地区办公室本身的调用，这是非调用处理程序利用的地方。当电话打来时，苏外出办事去了，代替她工作的人并不真正了解来访者的礼节。

| 他们: | "下午好，xyzcorp Leeds，我能为您做些什么？" |
| 美国: | “嗨，是苏吗？”(姓名下降) |
| 他们: | "嗨，我是凯特，恐怕苏要出去一会儿，我能帮忙吗？" |
| 美国: | “我确信你能凯特。我们在阅览室与萨拉交谈，她说苏会为我们安排一些通行证，并让我们知道会议室在哪里。我们今天将提供一些员工意识培训” |
| 他们: | “我看不到任何与此相关的信息，今天的访客记录中也没有任何内容” |
| 美国: | “我想我们这边可能有些线路交叉了！很抱歉。我们大约 15 分钟后到达，苏会回来吗？她能够处理好这件事” |
| 他们: | “她至少几个小时内不会回来” |
| 美国: | 哦，那好吧，当我们到达的时候我会问你，然后我们可以整理通行证 |
| 他们 | “好的，一会儿见” |

事实上，在谈话接近尾声时，她有些犹豫，但穿着西装出现并看起来像个角色，她被迫与“访客”打交道并分配一些通行证。只有用喷墨打印机打印的徽章夹里的一些匆忙制作的公司徽章，以及说服他人其合法性的信心。

有时候，离得很近可能是一个好策略，这样情况就可以落到他们头上，看他们如何反应。很多情况下，反应会是恐慌。如果知道可能与你打交道的人缺乏经验或训练不足，应该施加压力，看看结果会怎样。

在[第 9 章](09.html)中，我们讨论了使用电子邮件进行主动情报收集的概念，以恢复能够在我们稍后的评估中帮助我们的情报片段。

这一概念也完全适用于电话，尽管风险稍大。这主要是因为与电子邮件地址相比，打电话的压力更大了。在开始打电话之前，有必要对这个故事进行充分的排练并充满信心。尽量避免因准备不足而引起怀疑，对后续工作造成负面影响。

在电子邮件[第 9 章](09.html)中，我们讨论了发送几乎一次性电子邮件的话题——这类邮件不会引起怀疑，而且会被企业在日常生活中看到。同样的原则在很大程度上也适用于我们收集信息时的通话。

## 工作查询

大多数企业都会定期收到职位空缺查询，但这种性质的电话能帮助我们参与进来吗？一个看似无害的查询能提供可用于进一步攻击的信息吗？看看可以获取的信息类型，很明显是可以的。

首先，可以确定谁为组织处理招聘事宜。这些信息可以用来更有效地瞄准攻击，例如确保恶意有效载荷以 CV 的形式发送。

如果发现第三方处理招募，这可能会被用来在进一步的攻击中冒充他们。例如，在公司网站上寻找任何职位空缺，然后假装是招聘人员打电话进来。为其中一名社会工程团队成员安排一次面试怎么样？这至少可以让顾问们走出安全控制的大门，进入一个禁区。同样的概念也适用于内部招聘的组织。值得注意的是，这完全取决于分配给项目的时间框架。在大多数情况下，这不太可能是一个快速的胜利。

另一个角度是找出领导内部部门的人的可能性。例如，与招聘人员谈论一个 IT 职位，然后要求与领导 IT 团队的人交谈，向他们询问一些关于该工作的问题。这不仅能获得另一次内部接触，还能与内部人士建立融洽的关系。这种关系可以进一步建立和使用。

## 销售电话

对于任何企业来说，销售电话将是每天都会发生的事情。这意味着你可以模拟销售电话，而不用担心暴露你的身份。更好的是，写一个借口，让销售团队打电话增加真实性！销售人员是天生的社会工程师，他们每天都在这样做，为什么不利用这些技能呢？

首先，在处理 IT 或软件业务时，打电话给总服务台，要求与负责 IT 相关收购的人通话。做了一些准备工作后，咨询师可以在这一点上直接询问这个人。试着从一个很好的反病毒软件报价的细节开始，询问他们这是否是他们短期内想要解决的问题。经常听到人们直接回答“*我们使用 McAfee，许可证还有 2 年才到期*”，但也有人说他们已经有了许可证，但他们不感兴趣。没有什么可以阻止你去寻求更多的信息，一个简单的“*你介意我问一下你现在用的是哪种杀毒软件吗？*“无论如何，大多数销售人员都会尝试这样做，这样他们就可以尝试让自己的产品与嵌入的竞争对手竞争，这样听起来就不会不合时宜。在现实世界中，此信息可用于准备更有可能绕过目标防病毒软件的有效载荷。这里的一个实用技巧是将它安装在一个虚拟机中，然后测试各种组合，直到找到可以工作的东西。花时间做好适当的准备总比在现场参观时陷入混乱要好。

一个能让你获得物理安全信息的例子怎么样？同样的方法在这里也适用。打电话找负责设备管理的人。也许在这种情况下，作为一个站点安全公司的销售人员，提供闭路电视安装、警报维护、门控制系统和安全警卫。同样，这里的目标是找出他们目前拥有什么，以及在覆盖范围上是否有任何差距。同样，如果他们回答“*对不起，我们已经有 xyz* ”，请询问供应商或正在使用的系统的名称。如果他们提供了目前管理该建筑的安全公司的名称，这可以在以后的假冒尝试中使用。如果雇佣期较长，可能会将制服和徽章放在一起。

## 调查

调查是那些似乎永远不会消失的古老的社会工程陈词滥调之一，但是它们有用吗？如果你站在接听电话的人的立场上，你会有怎样的感受:

| 来电者: | "嗨，你能帮我解答一些调查问题吗？" |
| 你: | “呃，不，走开” |

结果很好。不过，玩笑归玩笑，就像大多数事情一样，问题首先是如何提出的。不仅是问题如何措辞，还有借口是什么。在上面的例子中，一个随机的陌生人打电话询问是否愿意浪费宝贵的时间来回答一些毫无意义的问题。答案几乎总是否定的。

唯一的方法就是激发他们想要回答。试着选择一个有权威的人来完成这项工作，或者选择一个有官方身份的人，比如说，国家统计局或地方商会的人。诀窍是保持简短，也许只有四到五个问题。

一个很好的例子是打电话调查社交媒体在工作场所的影响。这些问题可能大致如下:

1.你是 Twitter 或脸书等社交网站的成员吗？

2\. *您大概多久使用一次这些网站？*

3.工作之外，您是否使用这些网站与同事保持联系？

4.你的雇主允许你在午休时访问社交媒体网站吗？

5.你认为社交媒体网站能提高员工的士气吗？

一组简单的问题，不需要一分钟左右就可以得到答案。已经实现的是发现他们的工作站是否有出站互联网接入，以及内容过滤是否可能到位。了解这一点很有用，如果目的是在合约期间发送网络钓鱼电子邮件。

这个想法是问一些看似无害的问题，然后插入一个真正需要回答的问题。这里的技巧是以间接的方式提问，就像第四个问题。你也要注明“午休时间”人们不会承认自己做了不该做的事，比如在工作时间去脸书冲浪，但在午休时间？他们被允许在不牵连自己的情况下说是。

调查当然可以在约定中占有一席之地，但要完成调查需要极大的耐心和毅力。

## 冒充工作人员

冒充其他员工绝对是完成工作最有效的方法之一。这不仅适用于信息收集，也适用于实际攻击。很少有组织在向内部员工提供信息之前对他们进行身份验证，而这正是社会工程师所利用的。人们甚至知道团队成员会打电话到一个组织中去编造一个名字。没错，一个不存在的员工通过电话获得信息。这只是强调了一点，如果有足够多的高卢人拿起电话，听起来合法，它可能会得到一个积极的结果。

在“你要给谁打电话？”一节中，有很多冒充员工的好例子但是还有很多角度可以利用。

## 服务台

选择扮演帮助台的成员并呼叫其他内部员工来帮助诊断可能实际上并不存在的问题怎么样？请记住，某个地方的某个人的电脑会出现问题，他们可能会对此大声疾呼。在这种情况下，电话将如何播放？

| 你: | “嗨，我是支持部门的 Mike，我们在邮件服务器的日志中发现了一些错误，表明您在发送邮件时遇到了问题，您仍然有问题吗？” |
| 他们: | “不，我目前没有任何问题” |
| 你: | “好吧，我们能不能快速检查一下，以便我可以向支持票添加一些细节？如果事情停止运转，它将帮助我们” |
| 他们: | “当然，你需要我做什么？” |

这通电话的其余部分将取决于所需信息的类型。如果只是需要知道内部 IP 地址方案，可以通过启动命令提示符并键入 ipconfig /all 来告诉他们。这将通过 DNS 服务器地址为您提供客户端网络 IP 地址和服务器网络。DNS 服务器通常也是域控制器，这无疑有助于缩小现场攻击的范围。那么更高级的信息呢？

| 你: | “好的，我们需要再次检查您是否已正确连接到域，您准备好执行下一个命令了吗？” |
| 他们: | “开始吧” |
| 你: | "好，输入网络账户/域名" |

让受害者读出响应应该提供域的密码策略。该信息可用于在攻击外部系统时避免锁定阈值。

如何去的程度，让他们检查他们的互联网接入点击一个恶意的超链接。一个首选的选项是凭证采集器，以避免任何尴尬的防病毒警报。

## 员工人数

在社会工程中，合理性永远是游戏的名字。如果顾问有业务“需要知道”,他们更有可能获得他们需要的信息。如果目标是让一名员工透露他们的员工编号，如何实现呢？这需要企业内部有人需要，那么财务部门呢？

| 你: | "嗨，莎拉，我是财务部的吉姆，你好吗？" |
| 莎拉: | "嗨，吉姆，很好，谢谢你，我能为你做些什么？" |
| 你: | “Sarah，我们刚刚从负责我们工资的人那里得到了最新的工资信息，我们认为很多信息都是错误的。看起来很多员工编号与我的记录不符” |
| 莎拉: | “啊哦，听起来不太妙” |
| 你: | “这是一场灾难，莎拉，看起来至少有一半是错的，包括你的，这可能意味着人们没有得到适当的报酬” |
| 莎拉: | “哦不！” |
| 你: | “我们正在努力更正每个人的记录，我们已经在列表中找到了您，您能读出您的员工编号吗？这样我就可以验证我们的记录现在是否正确了。” |
| 莎拉: | 当然可以，号码是 4454536346346 |
| 你: | “看起来你的答案毕竟是正确的，不过我很高兴我们确认了这一点！我不想让月底没有工资的人来！” |

一旦有人认为他们可能拿不到工资，他们就会非常顺从。金钱当然是最好的激励因素之一。这个故事之所以行得通，是因为财务团队可能需要这个信息。由一个外部组织来处理工资也是很常见的。事实上，企业经常会因为内部财务团队和外部工资单之间的沟通不畅而遭受损失。这一切都增加了这一场景的合理性。现在所需要的是在电话中足够的放松，让闲聊能够打破僵局。一如既往，保持简单。一个场景越复杂，就越有可能出错。不要在通话过程中遇到任何挫折，这在正常通话中也会发生，只要恢复过来，继续前进。这种情况会让财务团队的成员有充分的理由感到有点紧张，毕竟，人们可能会做出愤怒的反应。

员工数量在很多方面都很有用。首先，它们可以用作面向公众的门户网站的认证机制。其次，它们可以用来认证呼入呼叫。员工编号还可以调用 HR，然后用于获取进一步的情报。

## 获取关键信息和访问权限

以下是访问敏感信息、系统或物理场所的一些场景。

## 凭据和电子邮件访问

大多数组织都有某种面向公众的邮件，通常通过 outlook web access (OWA)发送。要通过某种欺骗手段获得访问权限，首先需要确定谁能够提供所需的访问权限。毕竟给照看鱼缸的人打电话没什么意义。

在这种情况下，有两条可用的路线；请直接联系用户，或者联系问讯台，让他们重置密码。这里快速浏览一些可能的场景。

首先，假设我们不仅收集了大量的电子邮件地址，而且还列举了子域并识别了 OWA 或类似的地址。所有这些都可以在侦察阶段实现，如第 8 章中的[所述。](08.html)

例如，只需要 OWA 的用户名和 URL 就可以重置密码。一个简单的电话，同时假装慌张，解释说你即将参加一个重要的会议，需要访问重要的电子邮件，并辅以几个针对 OWA 的失败认证，以锁定帐户，足以获得一个非常有用的技术支持人员的帮助。然而，他们仍然需要一封电子邮件来验证身份。简单的任务！利用事先所有的研究，加上受害者助手的名字，谈话大致如下:

“那么，如果我让简·罗杰斯给你发电子邮件，你就可以重设我的密码了？她是我的爸爸。”*技术支持人员说没问题*。

不幸的是，访问简的电子邮件帐户还没有实现，欺骗不是一个选项，也没有足够的时间来建立一个足够好的假域名。唯一剩下的选择是希望目标邮件客户端不要显示实际的电子邮件地址，而是显示发件人的“姓名”。使用一个标准的免费邮件帐户，确保“邮件发件人”的名字显示为简·罗杰斯。创建了授权电子邮件、联系说明和手机号码。此外，在侦察阶段发现了一个伪造的电子邮件签名。另一个电话打到了帮助台，让技术人员知道应该有一封来自 Jane 的邮件在等着他，尽管已经知道此时还没有发送出去。每隔一段时间，又有人打来电话，每一个电话听起来都越来越慌乱和恼怒，每次都提到简·罗杰斯的名字。坚持说简说过她已经发了几次邮件。过了一段时间，消息发出了。最终，期待已久的电话被接到了。支持技术人员使用新密码完成了登录帐户的过程。

如前所述，给某人施加压力经常会迫使他们做一些他们通常不会做的事情。“压力和溶液”技术在第 3 章中有更详细的介绍。如果电子邮件被直接发送，任务可能仍然是成功的，但是第一种方法往往是最成功和更稳定的。总的来说，一天中大约有六个电话是打给支持人员的，到这个时候，这位工程师已经对他直呼其名了。导致支持技术人员似乎终于能够帮助解决问题而松了一口气。

值得注意的是，虽然出色的工作会给人带来很大的满足感，但像这样剥削一个努力工作的人并不好玩。因此，强调此处的问题不是如何处理电话是非常重要的。问题是雇主没有提供必要的工具以安全的方式履行这一职责。改善这种状况应该是任何参与的最终目标。

如果有必要，可以对这个场景进行调整。例如，可以声称 Blackberry 已经丢失、被盗或损坏到无法修复，并且迫切需要访问电子邮件。以此为借口，它不知道如何远程访问电子邮件，因此不知道 OWA 的 URL，也是可以原谅的。建议选择丢失或被盗，而不是在这种攻击媒介中损坏。损坏意味着仍然可以从设备上读取序列号。告诉他们设备被盗意味着他们很可能会锁定帐户并重置密码以避免泄露。这也意味着受害者的设备很可能被清除了。在实施这次攻击之前，这些都是值得记住的事情。

这些原则也适用于远程访问 VPN 门户。事实上，在许多情况下，VPN 也可以针对域进行身份验证，所以如果您已经设法重置了一个，您就可以使用相同的凭据访问所有内容。如果您远程工作，VPN 访问可能是最终目标。这将等同于坐在他们的物理网络上。在这一点上，测试更倾向于传统的渗透测试。

## 物理访问

没有什么比亲自接触受到严密保护的东西更好的了。找到流程中的漏洞，让某人可以轻而易举地绕过保安、摄像头和警报器，这是一种无价的感觉。在许多情况下，它不会完全不请自来，因为很多基础工作都是通过电话先做好的，而且有希望已经做好了安排。

## 物理访问零日

有一种方法已经在许多项目中被证明是非常成功的。通常，这种方法将用于较短的项目，即总共持续 1 或 2 天的项目。这里没有太多的回旋余地，所以典型的方法是一天侦察，一天现场勘察。

我们开玩笑地称这种方法为“零日”,因为它一直很成功。也许它的成功与约会持续的天数直接相关。在安全方面，更少的天数意味着更少的投资，所以也许组织正在试图理解那些可能被认为是低挂果实的问题？这种方法无疑攻击了显而易见的途径。客户可能想了解更大的问题，解决它们，教育，然后重新评估。最终，不太明显的问题将被寻找，这可能需要更多的时间来测试。

这个场景在本书中已经有所涉及。一般前提是假扮工作人员，为即将到来的访问安排通行证。

在调查阶段，应该已经确定了内部员工的姓名、办公地点和外出度假的员工。所有这些智能都在场景中发挥作用。打电话给一个地区办公室，冒充总部员工总是一个很好的角度，正如我们在“你要打电话给谁？”一节中提到的

知道哪个员工离开了以及离开了多长时间，工程师就可以在通话过程中进行模仿，而不用担心被发现。如果可以发现的话，最好是在打电话之前知道这个人在哪个办公室和部门工作。

如前几节所述，为参加地区办公室并需要访问，想出一个合理的故事是一件简单的事情。如何有人在 IT 工作，出席网站，做一些维护和升级？这将给出一个坚实的理由，以及访问网络的合理性。如果顾问遇到好奇的员工，他也可能会说话。同样，需要进行准备工作，以确定该站点没有自己的 IT 人员。例如，为什么不试试“*我离开了几个星期，需要一个人在那里升级一些开关*线。然后告诉接待人员你什么时候到达，并准备好通行证。最糟糕的情况是他们要求进一步授权，此时你可以要求与他们的主管谈话，并向他们施加进一步的压力。我知道我们经常提到会议室，但是一旦你有了通行证，让接待员为你预定一个房间。它会给你一个工作的地方，在那里你不太可能受到挑战。这真的减轻了压力，你可以相对平静地继续你的目标。

这似乎是一个极端的长镜头，但它确实经常惊人地奏效。如果有一个更长的约定，那么毫无疑问，这种方法无疑会更先进，但对于简单性有很多要说的。

第 3 章中提供了更多关于适用技术的信息。

如果有人想要将基于手机的攻击武器化并危害主机呢？

## 把你的电话武器化

我意识到谈论渗透测试是有风险的，但是这些呼吁必须有实际可行的结果。您可能不总是在测试组织的物理安全性，但需要从外部危及网络中的主机。我相信有很多方法可以做到这一点，但这是我最喜欢的方法之一。

首先，需要一个 Hak5 的无线菠萝和一个具有包注入功能的 WiFi 适配器的笔记本电脑。有许多带有 Atheros 芯片组的无线适配器支持此功能，例如 Alfa 或 TP-Link 722n。TP-Link 的好处在于，它们在亚马逊上很容易买到，目前在英国的价格刚刚超过 8 英镑。他们基本上是在送人！需要的另一个重要项目是批准无线接入点。这本身可能是一个阻碍，但这是一个现实的概念，即使中等技术的攻击者也可以实现。

vector 基本上是第三章中讨论的破坏和协助概念。破坏和协助，顾名思义，就是破坏某物，然后以此为借口帮助他人解决问题的行为。甚至有可能社会工程第三方打破东西，然后打电话声称可以帮助。无论从哪个角度看，这都是一种有效的技术。

这将避免大量的技术细节，在无线方面的事情，因为他们在互联网上被广泛报道。

基本上，这是一种以随机间隔对无线网络执行无线去认证攻击的情况，中断所有连接到它的人的通信。经过这个过程的几个循环之后，目标被调用，模拟帮助台人员。目标被告知他们部门的每个人都在随机的时间间隔掉线，并询问他们是否注意到任何问题。即使目标没有注意到，他们周围的人也很可能注意到了。如果没有，继续拨打其他号码，直到有人被找到。

此时，受害者被告知已经建立了一个新的无线网络来解决问题，并告诉他们如何连接到该网络。当然，他们连接的无线网络是敌对的 WiFi 菠萝或者类似的流氓设备。现在，从客户端到任何目的地的所有流量都可以被拦截。

社会工程工具包中也有构建这种类型攻击的功能。配置 SSID，当客户端连接时，所有 DNS 流量都会被拦截，目标会被路由到恶意页面，而不是它们自己的内部资源。

建立一个新的无线网络需要更高的特权，但我们经常看到这是允许的，以便笔记本电脑用户可以连接到他们的家庭网络或在路上的各个位置。如果他们不能建立一个新的无线网络，你可以有一个备用的证书收集网站。永远要有后备计划！

## 摘要

本章介绍了电话攻击的各个方面，以及如何在项目中使用电话攻击。

在这一章的大部分时间里，提供了许多真实世界的例子和脚本，希望能为未来的战斗或自卫教育提供一些想法和灵感。无论读者站在哪一边，他们现在都应该为这些攻击做好更充分的准备。

接下来，出现了一些与电话系统、来电显示和环境声音相关的实际问题，所有这些在压力下都很容易被忽略，尽管它们在任何评估中都是最重要的。

最后，研究主动信息收集，这在许多方面类似于电子邮件信息收集，并获取关键信息，在结束关于电话武器化的讨论之前，再次深入研究一些实际例子，以期破坏内部系统。

[第 11 章](11.html)涵盖了现场社会工程工作和物理安全的所有方面。

